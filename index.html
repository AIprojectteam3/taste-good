<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>조합 추천 페이지</title>
    <link rel = "stylesheet" href = "css/index.css">
    <link rel = "stylesheet" href = "css/menu.css">
    <link rel = "stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel = "stylesheet" href = "css/postmodal.css">
    <link rel = "stylesheet" href = "css/createmodal.css">

    <script src = "js/index.js"></script>
    <script src = "js/postmodal.js"></script>
    <script src = "js/index_mobile/comment_modal.js"></script>
    <script src = "js/createPostModal.js"></script>
    <script src = "js/Back/menu.js"></script>

    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
</head>
<body>
    <div class="container">
        <!-- 메뉴 영역 -->
        <aside class="menu">
            <!-- 프로필 영역 -->
            <section class="profile">
                <div class = "profile-header">
                    <div class="image">
                        <img src="image/profile-icon.png" alt="프로필 사진" />
                    </div>
                    <div class="nickname"></div>
                    <div class="level">
                        <span class="level-text">LV.</span>
                        <span class="level-text level-value"></span>
                        <span class="level-icon"><img class = "level_icon" src = "image/dropper-icon.png" alt = "레벨 아이콘"></span>
                    </div>
                </div>
                <div class = "profile-stats">
                    <div class="post">
                        <a href = "#">
                            <span>Posts</span>
                            <span class = "post-count"></span>
                        </a>
                    </div>
                    <div class="follower">
                        <a href = "#">
                            <span>Followers</span>
                            <span class = "follower-count">0</span>
                        </a>
                    </div>
                    <div class="point">
                        <a href = "#">
                            <span>Point</span>
                            <span class = "point-count">0</span>
                        </a>
                    </div>
                </div>
            </section>

            <!-- 차트 영역 -->
            <section class="chart">
                <div class="chart-header">
                    <h3>실시간 인기 검색어</h3>
                </div>
                <ol id="searchRankingList">
                    <!-- 순위 데이터가 여기에 동적으로 삽입됩니다 -->
                </ol>
            </section>

            <!-- 메인 메뉴 -->
            <nav class="main-menu">
                <ul>
                    <hr>
                    <li><a href = "index.html">
                        <img src = "image/popularity-icon.png" alt = "인기 메뉴">
                        <span>인기 메뉴</span>
                    </a></li>
                    <hr>
                    <li><a href = "AIMenu.html">
                        <img src = "image/ai-icon.png" alt = "AI 메뉴 추천">
                        <span>AI 메뉴 추천</span>
                    </a></li>
                    <hr>
                    <li><a href = "#">
                        <img src = "image/roulette-icon.png" alt = "룰렛">
                        <span>룰렛</span>
                    </a></li>
                    <li><a href = "tamagotchi.html">
                        <img src = "image/tamagotchi-icon.png" alt = "다마고치">
                        <span>다마고치</span>
                    </a></li>
                    <hr>
                    <li><a href = "myprofile.html">
                        <img src = "image/myprofile-icon.png" alt = "마이페이지">
                        <span>마이페이지</span>
                    </a></li>
                    <hr>
                    <li><a href = "#" class = "logoutPCMenu" onclick="handleLogout(event)">
                        <img src = "image/logout-icon.png" alt = "로그아웃">
                        <span>로그아웃</span>
                    </a></li>
                    <hr>
                </ul>
            </nav>
        </aside>

        <!-- 콘텐츠 영역 -->
        <main class="content" id = "postContainer">
        <!-- JS에서 게시물 자동 추가 -->
        </main>
    </div>

    <!-- =================================================================================== -->
    <!-- 게시물 모달 -->
    <!-- =================================================================================== -->
    <div class = "modal-overlay" id = "index-modal">
        <div class = "modal-window">
            <div class = "modal-left">
                <div class = "modal-img">
                    <button class = "slide-nav prev">‹</button>
                    <div class = "slide-container">
                        <!-- 여기에 이미지 슬라이드 -->
                        <img class = "slide-img" src = "" alt = "이미지 슬라이드 삽입할 곳">
                        <div class = "slide-thumbnails">
                            <!-- 여기 이미지 썸네일들 삽입하기 -->
                        </div>
                    </div>
                    <button class = "slide-nav next">›</button>
                </div>
            </div>
            <div class = "modal-right">
                <div class = "modal-header">
                    <div class = "post-user">
                        <div class = "user-profile-img">
                            <img src = "" alt = "작성자 프로필 사진">
                        </div>
                        <div class = "user-nickname">
                            <span class = "user-name">유저 닉네임</span>
                            <div>
                                <span>Lv. </span><span class = "user-level">1</span>
                            </div>
                            <!-- <span class = "postMenuBtn">···</span> -->
                        </div>
                    </div>
                    <div class = "post-content-div">
                        <div>
                            <h3 class = "post-title">여기에 게시물 타이틀 삽입</h3>
                            <div class = "post-content"><span class = "post-content-text">여기에 게시물 내용 삽입</span></div>
                        </div>
                        <button class="read-more-btn" style="display:none;">더보기</button>
                    </div>
                    <div class = "post-comment">
                        <!-- 여기에 댓글 밑의 구조대로 삽입 -->
                        <!--<div class = "comment-user">
                                <div class = "user-profile-img"><img src = "" alt = "댓글 작성자 프로필 사진"></div>
                                <div clsss = "comment-user-nickname"><span>댓글 작성자 닉네임</span></div>
                                <div class = "comment-content"><span>댓글 내용</span></div>
                            </div> -->
                    </div>
                </div>
                <div class = "comment-input-div">
                    <div class = "commentInputPC">
                        <div class = "communityBtn">
                            <a class = "heartBtn">
                                <img src = "image/heart-icon.png" alt = "하트">
                            </a>
                            <!-- <a class = "shareBtn">
                                <img src = "image/send-icon.png" alt = "공유">
                            </a>
                            <a class = "bookmarkBtn">
                                <img src = "image/bookmark-icon.png" alt = "북마크">
                            </a> -->
                        </div>
                        <input type="text" class="comment-input" name = "commentPC" placeholder="댓글을 입력하세요">
                        <button class="comment-submit">등록</button>
                    </div>
                </div>
            </div>
            <span class = "close-area" id = "modal-close">x</span>
        </div>
    </div>

    <div class = "modal comment-modal" id = "commentOnlyModal">
        <div class = "modal-content">
            <span class = "close">&times;</span>
            <div class="comment-modal-title">댓글</div>
            <div class="comment-modal-list"></div>
            <div class="comment-modal-input">
                <input class = "modal_comment_input" name = "commentM" type="text" placeholder="댓글을 입력하세요">
                <button>등록</button>
            </div>
        </div>
    </div>

    <div id = "openPostModalBtn" class = "create-post-button">
        <i class="fas fa-plus"></i>
    </div>

    <div class="floating-search-container" id="floatingSearchContainer">
        <div class="search-input-container" id="searchInputContainer">
            <input type="text" class="search-input" id="searchInput" placeholder = "..." autocomplete = "off">
            <button class="search-submit-btn" id="searchSubmitBtn">
                <i class="fas fa-search"></i>
            </button>
        </div>
        <div class="floating-search-btn" id="floatingSearchBtn">
            <i class="fas fa-search"></i>
        </div>
    </div>

    <!-- =================================================================================== -->
    <!-- 게시물 작성 및 수정 모달 --> 
    <!-- =================================================================================== -->
    <div id="createPostFormModal" class="create-post-form-overlay">
        <div class="create-post-form-window">
            <div class="create-post-form-left">
                <input type="file" id="createPostImageUpload" accept="image/*" multiple style="display: none;">
                <div class="create-post-slider-area">
                    <div class="create-post-main-image-container" id="createPostSliderMain">
                        <!-- 이미지 슬라이드 및 '사진 추가' 슬라이드가 여기에 동적으로 삽입됩니다. -->
                    </div>
                    <!-- 슬라이드 네비게이션 버튼 -->
                    <button class="create-post-slide-nav prev" id="createPostNavPrev" style="display: none;">‹</button>
                    <button class="create-post-slide-nav next" id="createPostNavNext" style="display: none;">›</button>
                    
                    <div class="create-post-thumbnails-container" id="createPostThumbnails">
                        <!-- 썸네일 및 '사진 추가' 썸네일이 여기에 동적으로 삽입됩니다. -->
                    </div>
                </div>
            </div>
            <div class="create-post-form-right">
                <div class="input-group">
                    <input type="text" id="createPostTitle" placeholder="제목을 입력하세요" maxlength="100">
                    <div class="char-count" id = "titleCount">
                            <span id="titleCharCount">0</span>/100
                    </div>
                </div>
                <div class="input-group">
                    <textarea id="createPostContent" placeholder="내용을 입력하세요" maxlength="2000"></textarea>
                    <div class="char-count" id = "contentCount">
                            <span id="contentCharCount">0</span>/2000
                    </div>
                </div>
                <button id="submitCreatePostBtn">게시</button>
            </div>
        </div>
    </div>

    <div id="advancedSearchModal" class="advanced-search-modal">
        <div class="advanced-search-content">
            <div class="advanced-search-header">
                <h3>고급 검색</h3>
                <button class="close-advanced-search" onclick="closeAdvancedSearchModal()">×</button>
            </div>
            
            <div class="advanced-search-form">
                <div class="form-group">
                    <label for="advancedSearchQuery">검색어</label>
                    <input type="text" id="advancedSearchQuery" placeholder="검색어를 입력하세요" autocomplete="off">
                </div>
                
                <div class="form-group">
                    <label for="advancedSearchType">검색 범위</label>
                    <select id="advancedSearchType">
                        <option value="all">전체</option>
                        <option value="title">제목</option>
                        <option value="content">내용</option>
                        <option value="author">작성자</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="advancedSortBy">정렬 기준</label>
                    <select id="advancedSortBy">
                        <option value="date">최신순</option>
                        <option value="views">조회수순</option>
                        <option value="likes">좋아요순</option>
                    </select>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="advancedDateFrom">시작 날짜</label>
                        <input type="date" id="advancedDateFrom">
                    </div>
                    <div class="form-group">
                        <label for="advancedDateTo">종료 날짜</label>
                        <input type="date" id="advancedDateTo">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="advancedMinViews">최소 조회수</label>
                        <input type="number" id="advancedMinViews" min="0" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label for="advancedMaxViews">최대 조회수</label>
                        <input type="number" id="advancedMaxViews" min="0" placeholder="제한 없음">
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="reset-btn" onclick="resetAdvancedSearchForm()">초기화</button>
                    <button type="button" class="search-btn" onclick="executeAdvancedSearch()">검색</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 모바일 네비게이션 -->
    <nav class="bottom-nav">
        <div class = "hamburger-menu" id = "hamburgerMenu">
            <img src = "image/menu-icon.png" alt = "메뉴 아이콘">
        </div>
        <div class = "site-title">맛잘알연구소</div>

        <div class="mobile-menu" id="mobileMenu">
            <ul class="mobile-menu-list">
                <li><a href="index.html">인기메뉴</a></li>
                <li><a href="AIMenu.html">AI 메뉴 추천</a></li>
                <li><a href="#">룰렛</a></li>
                <li><a href="tamagotchi.html">다마고치</a></li>
                <li><a href="myprofile.html">마이페이지</a></li>
                <li><a href="#" class = "logoutMenu" onclick="handleLogout(event)">로그아웃</a></li>
            </ul>
        </div>
    </nav>
</body>
</html>
